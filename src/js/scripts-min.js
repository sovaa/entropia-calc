
(function(b){typeof define==="function"&&define.amd?define(["jquery"],b):b(jQuery)})(function(ah){function M(A,z){function B(an){var am=an.precedance==="y",al=d[am?"width":"height"],ak=d[am?"height":"width"],w=an.string().indexOf("center")>-1,v=al*(w?0.5:1),u=Math.pow,t=Math.round,s,r,p,o=Math.sqrt(u(v,2)+u(ak,2)),n=[b/v*o,b/ak*o];n[2]=Math.sqrt(u(n[0],2)-u(b,2)),n[3]=Math.sqrt(u(n[1],2)-u(b,2)),s=o+n[2]+n[3]+(w?0:n[0]),r=s/o,p=[t(r*ak),t(r*al)];return{height:p[am?0:1],width:p[am?1:0]}}function C(i){var o=q.titlebar&&i.y==="top",n=o?q.titlebar:q.content,m=ah.browser.mozilla,l=m?"-moz-":ah.browser.webkit?"-webkit-":"",k=i.y+(m?"":"-")+i.x,j=l+(m?"border-radius-"+k:"border-"+k+"-radius");return parseInt(n.css(j),10)||parseInt(g.css(j),10)||0}function D(j,i,p){i=i?i:j[j.precedance];var o=g.hasClass(P),n=q.titlebar&&j.y==="top",m=n?q.titlebar:q.content,l="border-"+i+"-width",k;g.addClass(P),k=parseInt(m.css(l),10),k=(p?k||parseInt(g.css(l),10):k)||0,g.toggleClass(P,o);return k}function ai(am,al,ak,w){if(q.tip){var v=y.corner.clone(),m=ak.adjusted,k=A.options.position.adjust.method.split(" "),j=k[0],i=k[1]||k[0],f={left:af,top:af,x:0,y:0},ap,ao={},an;y.corner.fixed!==ag&&(j==="shift"&&v.precedance==="x"&&m.left&&v.y!=="center"?v.precedance=v.precedance==="x"?"y":"x":j==="flip"&&m.left&&(v.x=v.x==="center"?m.left>0?"left":"right":v.x==="left"?"right":"left"),i==="shift"&&v.precedance==="y"&&m.top&&v.x!=="center"?v.precedance=v.precedance==="y"?"x":"y":i==="flip"&&m.top&&(v.y=v.y==="center"?m.top>0?"top":"bottom":v.y==="top"?"bottom":"top"),v.string()!==e.corner.string()&&(e.top!==m.top||e.left!==m.left)&&y.update(v,af)),ap=y.position(v,m),ap.right!==ad&&(ap.left=-ap.right),ap.bottom!==ad&&(ap.top=-ap.bottom),ap.user=Math.max(0,x.offset);if(f.left=j==="shift"&&!!m.left){v.x==="center"?ao["margin-left"]=f.x=ap["margin-left"]-m.left:(an=ap.right!==ad?[m.left,-ap.left]:[-m.left,ap.left],(f.x=Math.max(an[0],an[1]))>an[0]&&(ak.left-=m.left,f.left=af),ao[ap.right!==ad?"right":"left"]=f.x)}if(f.top=i==="shift"&&!!m.top){v.y==="center"?ao["margin-top"]=f.y=ap["margin-top"]-m.top:(an=ap.bottom!==ad?[m.top,-ap.top]:[-m.top,ap.top],(f.y=Math.max(an[0],an[1]))>an[0]&&(ak.top-=m.top,f.top=af),ao[ap.bottom!==ad?"bottom":"top"]=f.y)}q.tip.css(ao).toggle(!(f.x&&f.y||v.x==="center"&&f.y||v.y==="center"&&f.x)),ak.left-=ap.left.charAt?ap.user:j!=="shift"||f.top||!f.left&&!f.top?ap.left:0,ak.top-=ap.top.charAt?ap.user:i!=="shift"||f.left||!f.left&&!f.top?ap.top:0,e.left=m.left,e.top=m.top,e.corner=v.clone()}}var y=this,x=A.options.style.tip,q=A.elements,g=q.tooltip,e={top:0,left:0},d={width:x.width,height:x.height},c={},b=x.border||0,a=".qtip-tip",aj=!!(ah("<canvas />")[0]||{}).getContext;y.mimic=y.corner=ae,y.border=b,y.offset=x.offset,y.size=d,A.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){y.init()||y.destroy(),A.reposition()},"^style.tip.(height|width)$":function(){d={width:x.width,height:x.height},y.create(),y.update(),A.reposition()},"^content.title.text|style.(classes|widget)$":function(){q.tip&&y.update()}},ah.extend(y,{init:function(){var f=y.detectCorner()&&(aj||ah.browser.msie);f&&(y.create(),y.update(),g.unbind(a).bind("tooltipmove"+a,ai));return f},detectCorner:function(){var f=x.corner,k=A.options.position,j=k.at,i=k.my.string?k.my.string():k.my;if(f===af||i===af&&j===af){return af}f===ag?y.corner=new ab.Corner(i):f.string||(y.corner=new ab.Corner(f),y.corner.fixed=ag),e.corner=new ab.Corner(y.corner.string());return y.corner.string()!=="centercenter"},detectColours:function(an){var al,o,n,l=q.tip.css("cssText",""),k=an||y.corner,j=k[k.precedance],i="border-"+j+"-color",f="border"+j.charAt(0)+j.substr(1)+"Color",au=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,at="background-color",ar="transparent",aq=" !important",ap=ah(document.body).css("color"),ao=A.elements.content.css("color"),am=q.titlebar&&(k.y==="top"||k.y==="center"&&l.position().top+d.height/2+x.offset<q.titlebar.outerHeight(1)),ak=am?q.titlebar:q.content;g.addClass(P),c.fill=o=l.css(at),c.border=n=l[0].style[f]||l.css(i)||g.css(i);if(!o||au.test(o)){c.fill=ak.css(at)||ar,au.test(c.fill)&&(c.fill=g.css(at)||o)}if(!n||au.test(n)||n===ap){c.border=ak.css(i)||ar,au.test(c.border)&&(c.border=n)}ah("*",l).add(l).css("cssText",at+":"+ar+aq+";border:0"+aq+";"),g.removeClass(P)},create:function(){var f=d.width,i=d.height,h;q.tip&&q.tip.remove(),q.tip=ah("<div />",{"class":"ui-tooltip-tip"}).css({width:f,height:i}).prependTo(g),aj?ah("<canvas />").appendTo(q.tip)[0].getContext("2d").save():(h='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',q.tip.html(h+h),ah("*",q.tip).bind("click mousedown",function(j){j.stopPropagation()}))},update:function(u,s){var p=q.tip,o=p.children(),k=d.width,j=d.height,an="px solid ",am="px dashed transparent",al=x.mimic,ak=Math.round,w,n,m,i,ao;u||(u=e.corner||y.corner),al===af?al=u:(al=new ab.Corner(al),al.precedance=u.precedance,al.x==="inherit"?al.x=u.x:al.y==="inherit"?al.y=u.y:al.x===al.y&&(al[u.precedance]=u[u.precedance])),w=al.precedance,y.detectColours(u),c.border!=="transparent"&&c.border!=="#123456"?(b=D(u,ae,ag),x.border===0&&b>0&&(c.fill=c.border),y.border=b=x.border!==ag?x.border:b):y.border=b=0,m=O(al,k,j),y.size=ao=B(u),p.css(ao),u.precedance==="y"?i=[ak(al.x==="left"?b:al.x==="right"?ao.width-k-b:(ao.width-k)/2),ak(al.y==="top"?ao.height-j:0)]:i=[ak(al.x==="left"?ao.width-k:0),ak(al.y==="top"?b:al.y==="bottom"?ao.height-j-b:(ao.height-j)/2)],aj?(o.attr(ao),n=o[0].getContext("2d"),n.restore(),n.save(),n.clearRect(0,0,3000,3000),n.translate(i[0],i[1]),n.beginPath(),n.moveTo(m[0][0],m[0][1]),n.lineTo(m[1][0],m[1][1]),n.lineTo(m[2][0],m[2][1]),n.closePath(),n.fillStyle=c.fill,n.strokeStyle=c.border,n.lineWidth=b*2,n.lineJoin="miter",n.miterLimit=100,b&&n.stroke(),n.fill()):(m="m"+m[0][0]+","+m[0][1]+" l"+m[1][0]+","+m[1][1]+" "+m[2][0]+","+m[2][1]+" xe",i[2]=b&&/^(r|b)/i.test(u.string())?parseFloat(ah.browser.version,10)===8?2:1:0,o.css({antialias:""+(al.string().indexOf("center")>-1),left:i[0]-i[2]*Number(w==="x"),top:i[1]-i[2]*Number(w==="y"),width:k+b,height:j+b}).each(function(f){var h=ah(this);h[h.prop?"prop":"attr"]({coordsize:k+b+" "+(j+b),path:m,fillcolor:c.fill,filled:!!f,stroked:!f}).css({display:b||f?"block":"none"}),!f&&h.html()===""&&h.html('<vml:stroke weight="'+b*2+'px" color="'+c.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')})),s!==af&&y.position(u)},position:function(r){var p=q.tip,o={},n=Math.max(0,x.offset),k,j,i;if(x.corner===af||!p){return af}r=r||y.corner,k=r.precedance,j=B(r),i=[r.x,r.y],k==="x"&&i.reverse(),ah.each(i,function(f,m){var l,h;m==="center"?(l=k==="y"?"left":"top",o[l]="50%",o["margin-"+l]=-Math.round(j[k==="y"?"width":"height"]/2)+n):(l=D(r,m,ag),h=C(r),o[m]=f?b?D(r,m):0:n+(h>l?h:0))}),o[r[k]]-=j[k==="x"?"width":"height"],p.css({top:"",bottom:"",left:"",right:"",margin:""}).css(o);return o},destroy:function(){q.tip&&q.tip.remove(),g.unbind(a)}}),y.init()}function O(h,g,l){var k=Math.ceil(g/2),j=Math.ceil(l/2),i={bottomright:[[0,0],[g,l],[g,0]],bottomleft:[[0,0],[g,0],[0,l]],topright:[[0,l],[g,0],[g,l]],topleft:[[0,0],[0,l],[g,l]],topcenter:[[0,l],[k,0],[g,l]],bottomcenter:[[0,0],[g,0],[k,l]],rightcenter:[[0,0],[g,j],[0,l]],leftcenter:[[g,0],[g,l],[0,j]]};i.lefttop=i.bottomright,i.righttop=i.bottomleft,i.leftbottom=i.topright,i.rightbottom=i.topleft;return i[h.string()]}function Q(v){var u=this,t=v.options.show.modal,s=v.elements,r=s.tooltip,o="#qtip-overlay",m=".qtipmodal",g=m+v.id,c="is-modal-qtip",b=ah(document.body),a;v.checks.modal={"^show.modal.(on|blur)$":function(){u.init(),s.overlay.toggle(r.is(":visible"))}},ah.extend(u,{init:function(){if(!t.on){return u}a=u.create(),r.attr(c,ag).css("z-index",ab.modal.zindex+ah(V+"["+c+"]").length).unbind(m).unbind(g).bind("tooltipshow"+m+" tooltiphide"+m,function(e,k,j){var i=e.originalEvent;if(e.target===r[0]){if(i&&e.type==="tooltiphide"&&/mouse(leave|enter)/.test(i.type)&&ah(i.relatedTarget).closest(a[0]).length){try{e.preventDefault()}catch(h){}}else{(!i||i&&!i.solo)&&u[e.type.replace("tooltip","")](e,j)}}}).bind("tooltipfocus"+m,function(h){if(!h.isDefaultPrevented()&&h.target===r[0]){var l=ah(V).filter("["+c+"]"),k=ab.modal.zindex+l.length,j=parseInt(r[0].style.zIndex,10);a[0].style.zIndex=k-1,l.each(function(){this.style.zIndex>j&&(this.style.zIndex-=1)}),l.end().filter("."+T).qtip("blur",h.originalEvent),r.addClass(T)[0].style.zIndex=k;try{h.preventDefault()}catch(i){}}}).bind("tooltiphide"+m,function(d){d.target===r[0]&&ah("["+c+"]").filter(":visible").not(r).last().qtip("focus",d)}),t.escape&&ah(window).unbind(g).bind("keydown"+g,function(d){d.keyCode===27&&r.hasClass(T)&&v.hide(d)}),t.blur&&s.overlay.unbind(g).bind("click"+g,function(d){r.hasClass(T)&&v.hide(d)});return u},create:function(){function f(){a.css({height:ah(window).height(),width:ah(window).width()})}var e=ah(o);if(e.length){return s.overlay=e.insertAfter(ah(V).last())}a=s.overlay=ah("<div />",{id:o.substr(1),html:"<div></div>",mousedown:function(){return af}}).insertAfter(ah(V).last()),ah(window).unbind(m).bind("resize"+m,f),f();return a},toggle:function(w,p,l){if(w&&w.isDefaultPrevented()){return u}var f=t.effect,e=p?"show":"hide",q=a.is(":visible"),n=ah("["+c+"]").filter(":visible").not(r),i;a||(a=u.create());if(a.is(":animated")&&q===p||!p&&n.length){return u}p?(a.css({left:0,top:0}),a.toggleClass("blurs",t.blur),b.bind("focusin"+g,function(h){var x=ah(h.target),k=x.closest(".qtip"),j=k.length<1?af:parseInt(k[0].style.zIndex,10)>parseInt(r[0].style.zIndex,10);!j&&ah(h.target).closest(V)[0]!==r[0]&&r.find("input:visible").filter(":first").focus()})):b.undelegate("*","focusin"+g),a.stop(ag,af),ah.isFunction(f)?f.call(a,p):f===af?a[e]():a.fadeTo(parseInt(l,10)||90,p?1:0,function(){p||ah(this).hide()}),p||a.queue(function(d){a.css({left:"",top:""}),d()});return u},show:function(d,e){return u.toggle(d,ag,e)},hide:function(e,d){return u.toggle(e,af,d)},destroy:function(){var d=a;d&&(d=ah("["+c+"]").not(r).length<1,d?(s.overlay.remove(),ah(window).unbind(m)):s.overlay.unbind(m+v.id),b.undelegate("*","focusin"+g));return r.removeAttr(c).unbind(m)}}),u.init()}function S(a){var j=this,i=a.elements,h=i.tooltip,g=".bgiframe-"+a.id;ah.extend(j,{init:function(){i.bgiframe=ah('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),i.bgiframe.appendTo(h),h.bind("tooltipmove"+g,j.adjust)},adjust:function(){var b=a.get("dimensions"),l=a.plugins.tip,k=i.tip,e,d;d=parseInt(h.css("border-left-width"),10)||0,d={left:-d,top:-d},l&&k&&(e=l.corner.precedance==="x"?["width","left"]:["height","top"],d[e[1]]-=k[e[0]]()),i.bgiframe.css(d).css(b)},destroy:function(){i.bgiframe.remove(),h.unbind(g)}}),j.init()}function E(r){var q=this,p=r.elements.tooltip,o=r.options.content.ajax,n=".qtip-ajax",m=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,c=ag,b=af,a;r.checks.ajax={"^content.ajax":function(e,d,f){d==="ajax"&&(o=f),d==="once"?q.init():o&&o.url?q.load():p.unbind(n)}},ah.extend(q,{init:function(){o&&o.url&&p.unbind(n)[o.once?"one":"bind"]("tooltipshow"+n,q.load);return q},load:function(v,u){function d(h,f,j){!b&&h.status!==0&&r.set("content.text",f+": "+j)}function e(f){b||(l&&(f=ah("<div/>").append(f.replace(m,"")).find(l)),r.set("content.text",f))}function g(){b||(k&&(r.show(v.originalEvent),u=af),ah.isFunction(o.complete)&&o.complete.apply(this,arguments))}var t=o.url.indexOf(" "),s=o.url,l,k=o.once&&!o.loading&&u;if(k){try{v.preventDefault()}catch(i){}}else{if(v&&v.isDefaultPrevented()){return q}}a&&a.abort&&a.abort(),t>-1&&(l=s.substr(t),s=s.substr(0,t)),a=ah.ajax(ah.extend({success:e,error:d,context:r},o,{url:s,complete:g}))},destroy:function(){a&&a.abort&&a.abort(),b=ag}}),q.init()}function F(z,y){var x,w,v,t,g,f=ah(this),d=ah(document.body),c=this===document?d:f,b=f.metadata?f.metadata(y.metadata):ae,a=y.metadata.type==="html5"&&b?b[y.metadata.name]:ae,B=f.data(y.metadata.name||"qtipopts");try{B=typeof B==="string"?(new Function("return "+B))():B}catch(A){I("Unable to parse HTML5 attribute data: "+B)}t=ah.extend(ag,{},ac.defaults,y,typeof B==="object"?H(B):ae,H(a||b)),w=t.position,t.id=z;if("boolean"===typeof t.content.text){v=f.attr(t.content.attr);if(t.content.attr!==af&&v){t.content.text=v}else{I("Unable to locate content for tooltip! Aborting render of tooltip on element: ",f);return af}}w.container.length||(w.container=d),w.target===af&&(w.target=c),t.show.target===af&&(t.show.target=c),t.show.solo===ag&&(t.show.solo=w.container.closest("body")),t.hide.target===af&&(t.hide.target=c),t.position.viewport===ag&&(t.position.viewport=w.container),w.at=new ab.Corner(w.at),w.my=new ab.Corner(w.my);if(ah.data(this,"qtip")){if(t.overwrite){f.qtip("destroy")}else{if(t.overwrite===af){return af}}}t.suppress&&(g=ah.attr(this,"title"))&&ah(this).removeAttr("title").attr(K,g),x=new G(f,t,z,!!v),ah.data(this,"qtip",x),f.bind("remove.qtip-"+z+" removeqtip.qtip-"+z,function(){x.destroy()});return x}function G(ai,u,o,l){function a(){var r=[u.show.target[0],u.hide.target[0],j.rendered&&p.tooltip[0],u.position.container[0],u.position.viewport[0],window,document];j.rendered?ah([]).pushStack(ah.grep(r,function(s){return typeof s==="object"})).unbind(q):u.show.target.unbind(q+"-create")}function b(){function A(C){t.is(":visible")&&j.reposition(C)}function B(C){if(t.hasClass(W)){return af}clearTimeout(j.timers.inactive),j.timers.inactive=setTimeout(function(){j.hide(C)},u.hide.inactive)}function r(C){if(t.hasClass(W)||aj||w){return af}var an=ah(C.relatedTarget||C.target),am=an.closest(V)[0]===t[0],al=an[0]===y.show[0];clearTimeout(j.timers.show),clearTimeout(j.timers.hide);if(z.target==="mouse"&&am||u.hide.fixed&&(/mouse(out|leave|move)/.test(C.type)&&(am||al))){try{C.preventDefault(),C.stopImmediatePropagation()}catch(D){}}else{u.hide.delay>0?j.timers.hide=setTimeout(function(){j.hide(C)},u.hide.delay):j.hide(C)}}function s(C){if(t.hasClass(W)){return af}clearTimeout(j.timers.show),clearTimeout(j.timers.hide);var D=function(){j.toggle(ag,C)};u.show.delay>0?j.timers.show=setTimeout(D,u.show.delay):D()}var z=u.position,y={show:u.show.target,hide:u.hide.target,viewport:ah(z.viewport),document:ah(document),body:ah(document.body),window:ah(window)},x={show:ah.trim(""+u.show.event).split(" "),hide:ah.trim(""+u.hide.event).split(" ")},v=ah.browser.msie&&parseInt(ah.browser.version,10)===6;t.bind("mouseenter"+q+" mouseleave"+q,function(D){var C=D.type==="mouseenter";C&&j.focus(D),t.toggleClass(R,C)}),u.hide.fixed&&(y.hide=y.hide.add(t),t.bind("mouseover"+q,function(){t.hasClass(W)||clearTimeout(j.timers.hide)})),/mouse(out|leave)/i.test(u.hide.event)?u.hide.leave==="window"&&y.window.bind("mouseout"+q+" blur"+q,function(C){/select|option/.test(C.target)&&!C.relatedTarget&&j.hide(C)}):/mouse(over|enter)/i.test(u.show.event)&&y.hide.bind("mouseleave"+q,function(C){clearTimeout(j.timers.show)}),(""+u.hide.event).indexOf("unfocus")>-1&&z.container.closest("html").bind("mousedown"+q,function(C){var am=ah(C.target),al=!t.hasClass(W)&&t.is(":visible"),D=am.parents(V).filter(t[0]).length>0;am[0]!==ai[0]&&am[0]!==t[0]&&!D&&!ai.has(am[0]).length&&!am.attr("disabled")&&j.hide(C)}),"number"===typeof u.hide.inactive&&(y.show.bind("qtip-"+o+"-inactive",B),ah.each(ac.inactiveEvents,function(D,C){y.hide.add(p.tooltip).bind(C+q+"-inactive",B)})),ah.each(x.hide,function(C,am){var al=ah.inArray(am,x.show),D=ah(y.hide);al>-1&&D.add(y.show).length===D.length||am==="unfocus"?(y.show.bind(am+q,function(an){t.is(":visible")?r(an):s(an)}),delete x.show[al]):y.hide.bind(am+q,r)}),ah.each(x.show,function(D,C){y.show.bind(C+q,s)}),"number"===typeof u.hide.distance&&y.show.add(t).bind("mousemove"+q,function(D){var C=n.origin||{},am=u.hide.distance,al=Math.abs;(al(D.pageX-C.pageX)>=am||al(D.pageY-C.pageY)>=am)&&j.hide(D)}),z.target==="mouse"&&(y.show.bind("mousemove"+q,function(C){aa={pageX:C.pageX,pageY:C.pageY,type:"mousemove"}}),z.adjust.mouse&&(u.hide.event&&(t.bind("mouseleave"+q,function(C){(C.relatedTarget||C.target)!==y.show[0]&&j.hide(C)}),p.target.bind("mouseenter"+q+" mouseleave"+q,function(C){n.onTarget=C.type==="mouseenter"})),y.document.bind("mousemove"+q,function(C){n.onTarget&&!t.hasClass(W)&&t.is(":visible")&&j.reposition(C||aa)}))),(z.adjust.resize||y.viewport.length)&&(ah.event.special.resize?y.viewport:y.window).bind("resize"+q,A),(y.viewport.length||v&&t.css("position")==="fixed")&&y.viewport.bind("scroll"+q,A)}function c(r,x){function s(y){function z(C){C&&(delete A[C.src],clearTimeout(j.timers.img[C.src]),ah(C).unbind(q)),ah.isEmptyObject(A)&&(j.redraw(),x!==af&&j.reposition(n.event),y())}var B,A={};if((B=v.find("img[src]:not([height]):not([width])")).length===0){return z()}B.each(function(C,an){if(A[an.src]===ad){var am=0,al=3;(function D(){if(an.height||an.width||am>al){return z(an)}am+=1,j.timers.img[an.src]=setTimeout(D,700)})(),ah(an).bind("error"+q+" load"+q,function(){z(this)}),A[an.src]=an}})}var v=p.content;if(!j.rendered||!r){return af}ah.isFunction(r)&&(r=r.call(ai,n.event,j)||""),r.jquery&&r.length>0?v.empty().append(r.css({display:"block"})):v.html(r),j.rendered<0?t.queue("fx",s):(w=0,s(ah.noop));return j}function d(r,v){var s=p.title;if(!j.rendered||!r){return af}ah.isFunction(r)&&(r=r.call(ai,n.event,j));if(r===af||!r&&r!==""){return i(af)}r.jquery&&r.length>0?s.empty().append(r.css({display:"block"})):s.html(r),j.redraw(),v!==af&&j.rendered&&t.is(":visible")&&j.reposition(n.event)}function e(s){var r=p.button,v=p.title;if(!j.rendered){return af}s?(v||f(),g()):r.remove()}function f(){var r=ak+"-title";p.titlebar&&i(),p.titlebar=ah("<div />",{"class":Y+"-titlebar "+(u.style.widget?"ui-widget-header":"")}).append(p.title=ah("<div />",{id:r,"class":Y+"-title","aria-atomic":ag})).insertBefore(p.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(s){ah(this).toggleClass("ui-state-active ui-state-focus",s.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(s){ah(this).toggleClass("ui-state-hover",s.type==="mouseover")}),u.content.title.button?g():j.rendered&&j.redraw()}function g(){var r=u.content.title.button,v=typeof r==="string",s=v?r:"Close tooltip";p.button&&p.button.remove(),r.jquery?p.button=r:p.button=ah("<a />",{"class":"ui-state-default ui-tooltip-close "+(u.style.widget?"":Y+"-icon"),title:s,"aria-label":s}).prepend(ah("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),p.button.appendTo(p.titlebar).attr("role","button").click(function(x){t.hasClass(W)||j.hide(x);return af}),j.redraw()}function i(r){p.title&&(p.titlebar.remove(),p.titlebar=p.title=p.button=ae,r!==af&&j.reposition())}function k(){var r=u.style.widget;t.toggleClass(X,r).toggleClass(U,u.style.def&&!r),p.content.toggleClass(X+"-content",r),p.titlebar&&p.titlebar.toggleClass(X+"-header",r),p.button&&p.button.toggleClass(Y+"-icon",!r)}function m(s){var r=0,y,x=u,v=s.split(".");while(x=x[v[r++]]){r<v.length&&(y=x)}return[y||u,v.pop()]}var j=this,h=document.body,ak=Y+"-"+o,aj=0,w=0,t=ah(),q=".qtip-"+o,p,n;j.id=o,j.rendered=af,j.elements=p={target:ai},j.timers={img:{}},j.options=u,j.checks={},j.plugins={},j.cache=n={event:{},target:ah(),disabled:af,attr:l,onTarget:af},j.checks.builtin={"^id$":function(y,x,v){var s=v===ag?ac.nextid:v,r=Y+"-"+s;s!==af&&s.length>0&&!ah("#"+r).length&&(t[0].id=r,p.content[0].id=r+"-content",p.title[0].id=r+"-title")},"^content.text$":function(s,r,v){c(v)},"^content.title.text$":function(s,r,v){if(!v){return i()}!p.title&&v&&f(),d(v)},"^content.title.button$":function(s,r,v){e(v)},"^position.(my|at)$":function(s,r,v){"string"===typeof v&&(s[r]=new ab.Corner(v))},"^position.container$":function(s,r,v){j.rendered&&t.appendTo(v)},"^show.ready$":function(){j.rendered?j.toggle(ag):j.render(1)},"^style.classes$":function(s,r,v){t.attr("class",Y+" qtip ui-helper-reset "+v)},"^style.widget|content.title":k,"^events.(render|show|move|hide|focus|blur)$":function(r,v,s){t[(ah.isFunction(s)?"":"un")+"bind"]("tooltip"+v,s)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var r=u.position;t.attr("tracking",r.target==="mouse"&&r.adjust.mouse),a(),b()}},ah.extend(j,{render:function(y){if(j.rendered){return j}var x=u.content.text,v=u.content.title.text,s=u.position,r=ah.Event("tooltiprender");ah.attr(ai[0],"aria-describedby",ak),t=p.tooltip=ah("<div/>",{id:ak,"class":Y+" qtip ui-helper-reset "+U+" "+u.style.classes+" "+Y+"-pos-"+u.position.my.abbrev(),width:u.style.width||"",height:u.style.height||"",tracking:s.target==="mouse"&&s.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":af,"aria-describedby":ak+"-content","aria-hidden":ag}).toggleClass(W,n.disabled).data("qtip",j).appendTo(u.position.container).append(p.content=ah("<div />",{"class":Y+"-content",id:ak+"-content","aria-atomic":ag})),j.rendered=-1,aj=w=1,v&&(f(),ah.isFunction(v)||d(v,af)),ah.isFunction(x)||c(x,af),j.rendered=ag,k(),ah.each(u.events,function(z,A){ah.isFunction(A)&&t.bind(z==="toggle"?"tooltipshow tooltiphide":"tooltip"+z,A)}),ah.each(ab,function(){this.initialize==="render"&&this(j)}),b(),t.queue("fx",function(z){r.originalEvent=n.event,t.trigger(r,[j]),aj=w=0,j.redraw(),(u.show.ready||y)&&j.toggle(ag,n.event,af),z()});return j},get:function(s){var r,v;switch(s.toLowerCase()){case"dimensions":r={height:t.outerHeight(),width:t.outerWidth()};break;case"offset":r=ab.offset(t,u.position.container);break;default:v=m(s.toLowerCase()),r=v[0][v[1]],r=r.precedance?r.string():r}return r},set:function(C,B){function r(al,D){var ao,an,am;for(ao in v){for(an in v[ao]){if(am=(new RegExp(an,"i")).exec(al)){D.push(am),v[ao][an].apply(j,D)}}}}var A=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,z=/^content\.(title|attr)|style/i,y=af,x=af,v=j.checks,s;"string"===typeof C?(s=C,C={},C[s]=B):C=ah.extend(ag,{},C),ah.each(C,function(D,an){var am=m(D.toLowerCase()),al;al=am[0][am[1]],am[0][am[1]]="object"===typeof an&&an.nodeType?ah(an):an,C[D]=[am[0],am[1],an,al],y=A.test(D)||y,x=z.test(D)||x}),H(u),aj=w=1,ah.each(C,r),aj=w=0,t.is(":visible")&&j.rendered&&(y&&j.reposition(u.position.target==="mouse"?ae:n.event),x&&j.redraw());return j},toggle:function(al,D){function r(){al?(ah.browser.msie&&t[0].style.removeAttribute("filter"),t.css("overflow",""),"string"===typeof B.autofocus&&ah(B.autofocus,t).focus(),s=ah.Event("tooltipvisible"),s.originalEvent=D?n.event:ae,t.trigger(s,[j]),B.target.trigger("qtip-"+o+"-inactive")):t.css({display:"",visibility:"",opacity:"",left:"",top:""})}if(!j.rendered){return al?j.render(1):j}var C=al?"show":"hide",B=u[C],A=t.is(":visible"),z=!D||u[C].target.length<2||n.target[0]===D.target,y=u.position,x=u.content,v,s;(typeof al).search("boolean|number")&&(al=!A);if(!t.is(":animated")&&A===al&&z){return j}if(D){if(/over|enter/.test(D.type)&&/out|leave/.test(n.event.type)&&D.target===u.show.target[0]&&t.has(D.relatedTarget).length){return j}n.event=ah.extend({},D)}s=ah.Event("tooltip"+C),s.originalEvent=D?n.event:ae,t.trigger(s,[j,90]);if(s.isDefaultPrevented()){return j}ah.attr(t[0],"aria-hidden",!al),al?(n.origin=ah.extend({},aa),j.focus(D),ah.isFunction(x.text)&&c(x.text,af),ah.isFunction(x.title.text)&&d(x.title.text,af),!J&&y.target==="mouse"&&y.adjust.mouse&&(ah(document).bind("mousemove.qtip",function(am){aa={pageX:am.pageX,pageY:am.pageY,type:"mousemove"}}),J=ag),j.reposition(D,arguments[2]),(s.solo=!!B.solo)&&ah(V,B.solo).not(t).qtip("hide",s)):(clearTimeout(j.timers.show),delete n.origin,J&&!ah(V+'[tracking="true"]:visible',B.solo).not(t).length&&(ah(document).unbind("mousemove.qtip"),J=af),j.blur(D)),z&&t.stop(0,1),B.effect===af?(t[C](),r.call(t)):ah.isFunction(B.effect)?(B.effect.call(t,j),t.queue("fx",function(am){r(),am()})):t.fadeTo(90,al?1:0,r),al&&B.target.trigger("qtip-"+o+"-inactive");return j},show:function(r){return j.toggle(ag,r)},hide:function(r){return j.toggle(af,r)},focus:function(r){if(!j.rendered){return j}var A=ah(V),z=parseInt(t[0].style.zIndex,10),y=ac.zindex+A.length,x=ah.extend({},r),v,s;t.hasClass(T)||(s=ah.Event("tooltipfocus"),s.originalEvent=x,t.trigger(s,[j,y]),s.isDefaultPrevented()||(z!==y&&(A.each(function(){this.style.zIndex>z&&(this.style.zIndex=this.style.zIndex-1)}),A.filter("."+T).qtip("blur",x)),t.addClass(T)[0].style.zIndex=y));return j},blur:function(r){var v=ah.extend({},r),s;t.removeClass(T),s=ah.Event("tooltipblur"),s.originalEvent=v,t.trigger(s,[j]);return j},reposition:function(aB,aA){if(!j.rendered||aj){return j}aj=1;var az=u.position.target,ay=u.position,ax=ay.my,aw=ay.at,av=ay.adjust,au=av.method.split(" "),at=t.outerWidth(),ar=t.outerHeight(),aq=0,ao=0,an=ah.Event("tooltipmove"),al=t.css("position")==="fixed",B=ay.viewport,z={left:0,top:0},y=ay.container,s=af,ap=j.plugins.tip,am={horizontal:au[0],vertical:au[1]=au[1]||au[0],enabled:B.jquery&&az[0]!==window&&az[0]!==h&&av.method!=="none",left:function(aH){var aG=am.horizontal==="shift",aF=-y.offset.left+B.offset.left+B.scrollLeft,aE=ax.x==="left"?at:ax.x==="right"?-at:-at/2,aD=aw.x==="left"?aq:aw.x==="right"?-aq:-aq/2,aC=ap&&ap.size?ap.size.width||0:0,C=ap&&ap.corner&&ap.corner.precedance==="x"&&!aG?aC:0,A=aF-aH+C,x=aH+at-B.width-aF+C,v=aE-(ax.precedance==="x"||ax.x===ax.y?aD:0)-(aw.x==="center"?aq/2:0),r=ax.x==="center";aG?(C=ap&&ap.corner&&ap.corner.precedance==="y"?aC:0,v=(ax.x==="left"?1:-1)*aE-C,z.left+=A>0?A:x>0?-x:0,z.left=Math.max(-y.offset.left+B.offset.left+(C&&ap.corner.x==="center"?ap.offset:0),aH-v,Math.min(Math.max(-y.offset.left+B.offset.left+B.width,aH+v),z.left))):(A>0&&(ax.x!=="left"||x>0)?z.left-=v:x>0&&(ax.x!=="right"||A>0)&&(z.left-=r?-v:v),z.left!==aH&&r&&(z.left-=av.x),z.left<aF&&-z.left>x&&(z.left=aH));return z.left-aH},top:function(aH){var aG=am.vertical==="shift",aF=-y.offset.top+B.offset.top+B.scrollTop,aE=ax.y==="top"?ar:ax.y==="bottom"?-ar:-ar/2,aD=aw.y==="top"?ao:aw.y==="bottom"?-ao:-ao/2,aC=ap&&ap.size?ap.size.height||0:0,C=ap&&ap.corner&&ap.corner.precedance==="y"&&!aG?aC:0,A=aF-aH+C,x=aH+ar-B.height-aF+C,v=aE-(ax.precedance==="y"||ax.x===ax.y?aD:0)-(aw.y==="center"?ao/2:0),r=ax.y==="center";aG?(C=ap&&ap.corner&&ap.corner.precedance==="x"?aC:0,v=(ax.y==="top"?1:-1)*aE-C,z.top+=A>0?A:x>0?-x:0,z.top=Math.max(-y.offset.top+B.offset.top+(C&&ap.corner.x==="center"?ap.offset:0),aH-v,Math.min(Math.max(-y.offset.top+B.offset.top+B.height,aH+v),z.top))):(A>0&&(ax.y!=="top"||x>0)?z.top-=v:x>0&&(ax.y!=="bottom"||A>0)&&(z.top-=r?-v:v),z.top!==aH&&r&&(z.top-=av.y),z.top<0&&-z.top>x&&(z.top=aH));return z.top-aH}},D;if(ah.isArray(az)&&az.length===2){aw={x:"left",y:"top"},z={left:az[0],top:az[1]}}else{if(az==="mouse"&&(aB&&aB.pageX||n.event.pageX)){aw={x:"left",y:"top"},aB=(aB&&(aB.type==="resize"||aB.type==="scroll")?n.event:aB&&aB.pageX&&aB.type==="mousemove"?aB:aa&&aa.pageX&&(av.mouse||!aB||!aB.pageX)?{pageX:aa.pageX,pageY:aa.pageY}:!av.mouse&&n.origin&&n.origin.pageX&&u.show.distance?n.origin:aB)||aB||n.event||aa||{},z={top:aB.pageY,left:aB.pageX}}else{az==="event"?aB&&aB.target&&aB.type!=="scroll"&&aB.type!=="resize"?az=n.target=ah(aB.target):az=n.target:az=n.target=ah(az.jquery?az:p.target),az=ah(az).eq(0);if(az.length===0){return j}az[0]===document||az[0]===window?(aq=ab.iOS?window.innerWidth:az.width(),ao=ab.iOS?window.innerHeight:az.height(),az[0]===window&&(z={top:(B||az).scrollTop(),left:(B||az).scrollLeft()})):az.is("area")&&ab.imagemap?z=ab.imagemap(az,aw,am.enabled?au:af):az[0].namespaceURI==="http://www.w3.org/2000/svg"&&ab.svg?z=ab.svg(az,aw):(aq=az.outerWidth(),ao=az.outerHeight(),z=ab.offset(az,y)),z.offset&&(aq=z.width,ao=z.height,s=z.flipoffset,z=z.offset);if(ab.iOS<4.1&&ab.iOS>3.1||ab.iOS==4.3||!ab.iOS&&al){D=ah(window),z.left-=D.scrollLeft(),z.top-=D.scrollTop()}z.left+=aw.x==="right"?aq:aw.x==="center"?aq/2:0,z.top+=aw.y==="bottom"?ao:aw.y==="center"?ao/2:0}}z.left+=av.x+(ax.x==="right"?-at:ax.x==="center"?-at/2:0),z.top+=av.y+(ax.y==="bottom"?-ar:ax.y==="center"?-ar/2:0),am.enabled?(B={elem:B,height:B[(B[0]===window?"h":"outerH")+"eight"](),width:B[(B[0]===window?"w":"outerW")+"idth"](),scrollLeft:al?0:B.scrollLeft(),scrollTop:al?0:B.scrollTop(),offset:B.offset()||{left:0,top:0}},y={elem:y,scrollLeft:y.scrollLeft(),scrollTop:y.scrollTop(),offset:y.offset()||{left:0,top:0}},z.adjusted={left:am.horizontal!=="none"?am.left(z.left):0,top:am.vertical!=="none"?am.top(z.top):0},z.adjusted.left+z.adjusted.top&&t.attr("class",t[0].className.replace(/ui-tooltip-pos-\w+/i,Y+"-pos-"+ax.abbrev())),s&&z.adjusted.left&&(z.left+=s.left),s&&z.adjusted.top&&(z.top+=s.top)):z.adjusted={left:0,top:0},an.originalEvent=ah.extend({},aB),t.trigger(an,[j,z,B.elem||B]);if(an.isDefaultPrevented()){return j}delete z.adjusted,aA===af||isNaN(z.left)||isNaN(z.top)||az==="mouse"||!ah.isFunction(ay.effect)?t.css(z):ah.isFunction(ay.effect)&&(ay.effect.call(t,j,ah.extend({},z)),t.queue(function(r){ah(this).css({opacity:"",height:""}),ah.browser.msie&&this.style.removeAttribute("filter"),r()})),aj=0;return j},redraw:function(){if(j.rendered<1||w){return j}var s=u.position.container,r,y,x,v;w=1,u.style.height&&t.css("height",u.style.height),u.style.width?t.css("width",u.style.width):(t.css("width","").addClass(P),y=t.width()+1,x=t.css("max-width")||"",v=t.css("min-width")||"",r=(x+v).indexOf("%")>-1?s.width()/100:0,x=(x.indexOf("%")>-1?r:1)*parseInt(x,10)||y,v=(v.indexOf("%")>-1?r:1)*parseInt(v,10)||0,y=x+v?Math.min(Math.max(y,v),x):y,t.css("width",Math.round(y)).removeClass(P)),w=0;return j},disable:function(r){"boolean"!==typeof r&&(r=!t.hasClass(W)&&!n.disabled),j.rendered?(t.toggleClass(W,r),ah.attr(t[0],"aria-disabled",r)):n.disabled=!!r;return j},enable:function(){return j.disable(af)},destroy:function(){var r=ai[0],v=ah.attr(r,K),s=ai.data("qtip");j.rendered&&(t.stop(1,0).remove(),ah.each(j.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(j.timers.show),clearTimeout(j.timers.hide),a();if(!s||j===s){ah.removeData(r,"qtip"),u.suppress&&v&&(ah.attr(r,"title",v),ai.removeAttr(K)),ai.removeAttr("aria-describedby")}ai.unbind(".qtip-"+o),delete Z[j.id];return ai}})}function H(a){var c;if(!a||"object"!==typeof a){return af}if(a.metadata===ae||"object"!==typeof a.metadata){a.metadata={type:a.metadata}}if("content" in a){if(a.content===ae||"object"!==typeof a.content||a.content.jquery){a.content={text:a.content}}c=a.content.text||af,!ah.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(a.content.text=af);if("title" in a.content){if(a.content.title===ae||"object"!==typeof a.content.title){a.content.title={text:a.content.title}}c=a.content.title.text||af,!ah.isFunction(c)&&(!c&&!c.attr||c.length<1||"object"===typeof c&&!c.jquery)&&(a.content.title.text=af)}}if("position" in a){if(a.position===ae||"object"!==typeof a.position){a.position={my:a.position,at:a.position}}}if("show" in a){if(a.show===ae||"object"!==typeof a.show){a.show.jquery?a.show={target:a.show}:a.show={event:a.show}}}if("hide" in a){if(a.hide===ae||"object"!==typeof a.hide){a.hide.jquery?a.hide={target:a.hide}:a.hide={event:a.hide}}}if("style" in a){if(a.style===ae||"object"!==typeof a.style){a.style={classes:a.style}}}ah.each(ab,function(){this.sanitize&&this.sanitize(a)});return a}function I(){I.history=I.history||[],I.history.push(arguments);if("object"===typeof console){var e=console[console.warn?"warn":"log"],d=Array.prototype.slice.call(arguments),f;typeof arguments[0]==="string"&&(d[0]="qTip2: "+d[0]),f=e.apply?e.apply(console,d):e(d)}}"use strict";var ag=!0,af=!1,ae=null,ad,ac,ab,aa,Z={},Y="ui-tooltip",X="ui-widget",W="ui-state-disabled",V="div.qtip."+Y,U=Y+"-default",T=Y+"-focus",R=Y+"-hover",P=Y+"-fluid",N="-31000px",L="_replacedByqTip",K="oldtitle",J;ac=ah.fn.qtip=function(o,f,e){var d=(""+o).toLowerCase(),c=ae,b=ah.makeArray(arguments).slice(1),a=b[b.length-1],p=this[0]?ah.data(this[0],"qtip"):ae;if(!arguments.length&&p||d==="api"){return p}if("string"===typeof o){this.each(function(){var g=ah.data(this,"qtip");if(!g){return ag}a&&a.timeStamp&&(g.cache.event=a);if(d!=="option"&&d!=="options"||!f){g[d]&&g[d].apply(g[d],b)}else{if(ah.isPlainObject(f)||e!==ad){g.set(f,e)}else{c=g.get(f);return af}}});return c!==ae?c:this}if("object"===typeof o||!arguments.length){p=H(ah.extend(ag,{},o));return ac.bind.call(this,p,a)}},ac.bind=function(b,a){return this.each(function(e){function f(k){function l(){h.render(typeof k==="object"||d.show.ready),c.show.add(c.hide).unbind(i)}if(h.cache.disabled){return af}h.cache.event=ah.extend({},k),h.cache.target=k?ah(k.target):[ad],d.show.delay>0?(clearTimeout(h.timers.show),h.timers.show=setTimeout(l,d.show.delay),j.show!==j.hide&&c.hide.bind(j.hide,function(){clearTimeout(h.timers.show)})):l()}var d,c,j,i,h,g;g=ah.isArray(b.id)?b.id[e]:b.id,g=!g||g===af||g.length<1||Z[g]?ac.nextid++:Z[g]=g,i=".qtip-"+g+"-create",h=F.call(this,g,b);if(h===af){return ag}d=h.options,ah.each(ab,function(){this.initialize==="initialize"&&this(h)}),c={show:d.show.target,hide:d.hide.target},j={show:ah.trim(""+d.show.event).replace(/ /g,i+" ")+i,hide:ah.trim(""+d.hide.event).replace(/ /g,i+" ")+i},/mouse(over|enter)/i.test(j.show)&&!/mouse(out|leave)/i.test(j.hide)&&(j.hide+=" mouseleave"+i),c.show.bind("mousemove"+i,function(k){aa={pageX:k.pageX,pageY:k.pageY,type:"mousemove"},h.cache.onTarget=ag}),c.show.bind(j.show,f),(d.show.ready||d.prerender)&&f(a)})},ab=ac.plugins={Corner:function(d){d=(""+d).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(d.match(/left|right/i)||d.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(d.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var c=d.charAt(0);this.precedance=c==="t"||c==="b"?"y":"x",this.string=function(){return this.precedance==="y"?this.y+this.x:this.x+this.y},this.abbrev=function(){var f=this.x.substr(0,1),e=this.y.substr(0,1);return f===e?f:f==="c"||f!=="c"&&e!=="c"?e+f:f+e},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(r,q){function a(d,c){p.left+=c*d.scrollLeft(),p.top+=c*d.scrollTop()}var p=r.offset(),o=r.closest("body")[0],n=q,m,l,k;if(n){do{n.css("position")!=="static"&&(l=n.position(),p.left-=l.left+(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("marginLeft"),10)||0),p.top-=l.top+(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0),!m&&(k=n.css("overflow"))!=="hidden"&&k!=="visible"&&(m=n))}while((n=ah(n[0].offsetParent)).length);m&&m[0]!==o&&a(m,1)}return p},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||af,fn:{attr:function(a,j){if(this.length){var i=this[0],h="title",g=ah.data(i,"qtip");if(a===h&&g&&"object"===typeof g&&g.options.suppress){if(arguments.length<2){return ah.attr(i,K)}g&&g.options.content.attr===h&&g.cache.attr&&g.set("content.text",j);return this.attr(K,j)}}return ah.fn["attr"+L].apply(this,arguments)},clone:function(a){var h=ah([]),g="title",f=ah.fn["clone"+L].apply(this,arguments);a||f.filter("["+K+"]").attr("title",function(){return ah.attr(this,K)}).removeAttr(K);return f}}},ah.each(ab.fn,function(f,b){if(!b||ah.fn[f+L]){return ag}var a=ah.fn[f+L]=ah.fn[f];ah.fn[f]=function(){return b.apply(this,arguments)||a.apply(this,arguments)}}),ah.ui||(ah["cleanData"+L]=ah.cleanData,ah.cleanData=function(a){for(var h=0,g;(g=a[h])!==ad;h++){try{ah(g).triggerHandler("removeqtip")}catch(e){}}ah["cleanData"+L](a)}),ac.version="2.0.0pre",ac.nextid=0,ac.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),ac.zindex=15000,ac.defaults={prerender:af,id:af,overwrite:ag,suppress:ag,content:{text:ag,attr:"title",title:{text:af,button:af}},position:{my:"top left",at:"bottom right",target:af,container:af,viewport:af,adjust:{x:0,y:0,mouse:ag,resize:ag,method:"flip flip"},effect:function(a,f,c){ah(this).animate(f,{duration:200,queue:af})}},show:{target:af,event:"mouseenter",effect:ag,delay:90,solo:af,ready:af,autofocus:af},hide:{target:af,event:"mouseleave",effect:ag,delay:0,fixed:af,inactive:af,leave:"window",distance:af},style:{classes:"",widget:af,width:af,height:af,def:ag},events:{render:ae,move:ae,show:ae,hide:ae,toggle:ae,visible:ae,focus:ae,blur:ae}},ab.ajax=function(d){var c=d.plugins.ajax;return"object"===typeof c?c:d.plugins.ajax=new E(d)},ab.ajax.initialize="render",ab.ajax.sanitize=function(e){var d=e.content,f;d&&"ajax" in d&&(f=d.ajax,typeof f!=="object"&&(f=e.content.ajax={url:f}),"boolean"!==typeof f.once&&f.once&&(f.once=!!f.once))},ah.extend(ag,ac.defaults,{content:{ajax:{loading:ag,once:ag}}}),ab.bgiframe=function(a){var f=ah.browser,c=a.plugins.bgiframe;if(ah("select, object").length<1||(!f.msie||(""+f.version).charAt(0)!=="6")){return af}return"object"===typeof c?c:a.plugins.bgiframe=new S(a)},ab.bgiframe.initialize="render",ab.imagemap=function(z,y,x){function a(aj,ai,D){var C=0,B=1,A=1,n=0,m=0,l=aj.width,k=aj.height;while(l>0&&k>0&&B>0&&A>0){l=Math.floor(l/2),k=Math.floor(k/2),D.x==="left"?B=l:D.x==="right"?B=aj.width-l:B+=Math.floor(l/2),D.y==="top"?A=k:D.y==="bottom"?A=aj.height-k:A+=Math.floor(k/2),C=ai.length;while(C--){if(ai.length<2){break}n=ai[C][0]-aj.offset.left,m=ai[C][1]-aj.offset.top,(D.x==="left"&&n>=B||D.x==="right"&&n<=B||D.x==="center"&&(n<B||n>aj.width-B)||D.y==="top"&&m>=A||D.y==="bottom"&&m<=A||D.y==="center"&&(m<A||m>aj.height-A))&&ai.splice(C,1)}}return{left:ai[0][0],top:ai[0][1]}}z.jquery||(z=ah(z));var w=(z[0].shape||z.attr("shape")).toLowerCase(),v=(z[0].coords||z.attr("coords")).split(","),u=[],t=ah('img[usemap="#'+z.parent("map").attr("name")+'"]'),s=t.offset(),r={width:0,height:0,offset:{top:10000000000,right:0,bottom:0,left:10000000000}},q=0,p=0,o;s.left+=Math.ceil((t.outerWidth()-t.width())/2),s.top+=Math.ceil((t.outerHeight()-t.height())/2);if(w==="poly"){q=v.length;while(q--){p=[parseInt(v[--q],10),parseInt(v[q+1],10)],p[0]>r.offset.right&&(r.offset.right=p[0]),p[0]<r.offset.left&&(r.offset.left=p[0]),p[1]>r.offset.bottom&&(r.offset.bottom=p[1]),p[1]<r.offset.top&&(r.offset.top=p[1]),u.push(p)}}else{u=ah.map(v,function(b){return parseInt(b,10)})}switch(w){case"rect":r={width:Math.abs(u[2]-u[0]),height:Math.abs(u[3]-u[1]),offset:{left:Math.min(u[0],u[2]),top:Math.min(u[1],u[3])}};break;case"circle":r={width:u[2]+2,height:u[2]+2,offset:{left:u[0],top:u[1]}};break;case"poly":ah.extend(r,{width:Math.abs(r.offset.right-r.offset.left),height:Math.abs(r.offset.bottom-r.offset.top)}),y.string()==="centercenter"?r.offset={left:r.offset.left+r.width/2,top:r.offset.top+r.height/2}:(r.offset=a(r,u.slice(),y),x&&(x[0]==="flip"||x[1]==="flip")&&(r.flipoffset=a(r,u.slice(),{x:y.x==="left"?"right":y.x==="right"?"left":"center",y:y.y==="top"?"bottom":y.y==="bottom"?"top":"center"}),r.flipoffset.left-=r.offset.left,r.flipoffset.top-=r.offset.top)),r.width=r.height=0}r.offset.left+=s.left,r.offset.top+=s.top;return r},ab.modal=function(d){var c=d.plugins.modal;return"object"===typeof c?c:d.plugins.modal=new Q(d)},ab.modal.initialize="render",ab.modal.sanitize=function(b){b.show&&(typeof b.show.modal!=="object"?b.show.modal={on:!!b.show.modal}:typeof b.show.modal.on==="undefined"&&(b.show.modal.on=ag))},ab.modal.zindex=ac.zindex+1000,ah.extend(ag,ac.defaults,{show:{modal:{on:af,effect:ag,blur:ag,escape:ag}}}),ab.svg=function(t,s){var r=ah(document),q=t[0],p={width:0,height:0,offset:{top:10000000000,left:10000000000}},o,n,m,l,a;if(q.getBBox&&q.parentNode){o=q.getBBox(),n=q.getScreenCTM(),m=q.farthestViewportElement||q;if(!m.createSVGPoint){return p}l=m.createSVGPoint(),l.x=o.x,l.y=o.y,a=l.matrixTransform(n),p.offset.left=a.x,p.offset.top=a.y,l.x+=o.width,l.y+=o.height,a=l.matrixTransform(n),p.width=a.x-p.offset.left,p.height=a.y-p.offset.top,p.offset.left+=r.scrollLeft(),p.offset.top+=r.scrollTop()}return p},ab.tip=function(d){var c=d.plugins.tip;return"object"===typeof c?c:d.plugins.tip=new M(d)},ab.tip.initialize="render",ab.tip.sanitize=function(b){var f=b.style,e;f&&"tip" in f&&(e=b.style.tip,typeof e!=="object"&&(b.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=ag),typeof e.width!=="number"&&delete e.width,typeof e.height!=="number"&&delete e.height,typeof e.border!=="number"&&e.border!==ag&&delete e.border,typeof e.offset!=="number"&&delete e.offset)},ah.extend(ag,ac.defaults,{style:{tip:{corner:ag,mimic:af,width:6,height:6,border:ag,offset:0}}})});function ca(b,a){if(!isNumber(b)){alert("ID not numeric.");return}if(a==null||a==""){alert("Blank amplifier type.");return}if(a==="Laser"){$('select[name="amp_energy"]').val(b)}else{if(a==="BLP"){$('select[name="amp_blp"]').val(b)}else{alert("Unknown amplifier type.");return}}$("#search-form").submit()}function skip(b,a){$("select#skip-list").prepend('<option value="'+a+'">'+a+"</option>");$("tr#row-"+b).remove();$("tr#result-"+b).remove()}function cc(d){if(!isNumber(d)){alert("ID not numeric.");return}$("select#setting-creature").val(d);var c=$("select#setting-creature").find(":selected").attr("title").split(":");var b=c[0];var a=c[1];$("input#setting-creature-hp").val(b);$("input#setting-creature-regen").val(a);$("#search-form").submit()}var percentColors=[{pct:0,color:{r:0,g:255,b:0}},{pct:0.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:255,g:0,b:0}}];var getInvertColor=function(g){if(g==0){return"rgb(CC,CC,CC)"}for(var b=0;b<percentColors.length;b++){if(g<=percentColors[b].pct){var c=percentColors[b-1]||{pct:0.1,color:{r:0,g:0,b:0}};var h=percentColors[b];var e=h.pct-c.pct;var f=(g-c.pct)/e;var d=1-f;var j=f;var a={r:255-Math.floor(c.color.r*d+h.color.r*j),g:255-Math.floor(c.color.r*d+h.color.r*j),b:255-Math.floor(c.color.r*d+h.color.r*j)};return"rgb("+[a.r,a.g,a.b].join(",")+")"}}};var getColor=function(g){if(g==0){return"rgb(CC,CC,CC)"}for(var b=0;b<percentColors.length;b++){if(g<=percentColors[b].pct){var c=percentColors[b-1]||{pct:0.1,color:{r:0,g:0,b:0}};var h=percentColors[b];var e=h.pct-c.pct;var f=(g-c.pct)/e;var d=1-f;var j=f;var a={r:Math.floor(c.color.r*d+h.color.r*j),g:Math.floor(c.color.g*d+h.color.g*j),b:Math.floor(c.color.b*d+h.color.b*j)};return"rgb("+[a.r,a.g,a.b].join(",")+")"}}};function buildTable(parent,sourceClass,targetClass){var container=parent.find(sourceClass);var tbl=eval(container.find(".creator-table").html());var hdr=eval(container.find(".creator-header").html());var bdy=eval(container.find(".creator-body").html());var target=parent.find(targetClass);var table="<table";var tableclass="";for(var post in tbl){tableclass=tbl[post].c}if(tableclass!==undefined){table+=' class="'+tableclass+'"'}table+=' cellspacing="0" cellpadding="0"><thead><tr>';for(var post in hdr){var row='<th class="';row+=hdr[post].c+'" title="'+hdr[post].t+'">';row+=hdr[post].v+"</th>";table+=row}table+="</tr></thead><tbody>";var i=0;for(var post in bdy){var row='<tr class="'+(i%2==0?"odd":"even")+'">';i++;row+='<td class="'+bdy[post].c0+'"><a '+bdy[post].v000;if(bdy[post].v001!==undefined){row+=" "+bdy[post].v001}row+=">"+bdy[post].v01+"</a></td>";row+='<td class="'+bdy[post].c1+'">'+bdy[post].v10+"</td>";row+='<td class="'+bdy[post].c2+'">';if(bdy[post].v21!==undefined){row+="<span "+bdy[post].v20+">"+bdy[post].v21+"</span></td>"}else{row+=bdy[post].v20+"</td>"}if(bdy[post].c3!==undefined){row+='<td class="'+bdy[post].c3+'">';if(bdy[post].v31!==undefined){row+="<span "+bdy[post].v30+">"+bdy[post].v31+"</span>"}else{row+=bdy[post].v30}row+="</td>"}if(bdy[post].c4!==undefined){row+='<td class="'+bdy[post].c4+'">'+bdy[post].v40+"</td>"}if(bdy[post].c5!==undefined){row+='<td class="'+bdy[post].c5+'">';if(bdy[post].v50=="--"){row+='<span style="color: #666">'+bdy[post].v50+"</span>"}else{row+=bdy[post].v50}row+="</td>"}if(bdy[post].c6!==undefined){row+='<td class="'+bdy[post].c6+'">'+bdy[post].v60+"</td>"}if(bdy[post].c7!==undefined){row+='<td class="'+bdy[post].c7+'">'+bdy[post].v70+"</td>"}row+="</tr>";table+=row}table+="</tbody></table>";target.html(table)}function isNumber(a){return !isNaN(parseFloat(a))&&isFinite(a)};$(document).ready(function(){$("#result").dataTable({iDisplayLength:100});$("#result").show();$("span.each-word").each(function(){var b=$(this).html();$(this).html(b.replace(/\b([a-z])([a-z]+)?\b/gim,"<span class='first-letter'>$1</span>$2"))});$('input[type="text"]').addClass("idleField");$('input[type="text"]').focus(function(){$(this).removeClass("idleField").addClass("focusField")});$('input[type="text"]').blur(function(){$(this).removeClass("focusField").addClass("idleField")});if($("input[name='use-enhancer-decay']").is(":checked")){$("div#search-weapon-wrapper").css("width","600px");$("span.enhancer-setting-wrapper").each(function(){$(this).show()})}else{$("span.enhancer-setting-wrapper").each(function(){$(this).hide()})}$("input[name='use-enhancer-decay']").change(function(){if($(this).is(":checked")){$("div#search-weapon-wrapper").css("width","600px");$("span.enhancer-setting-wrapper").each(function(){$(this).show()})}else{$("div#search-weapon-wrapper").css("width","300px");$("span.enhancer-setting-wrapper").each(function(){$(this).hide()})}});$("th[title]").qtip({style:{classes:"ui-tooltip-tipsy ui-tooltip-shadow"},position:{my:"bottom center",at:"top center",target:"event"},show:{delay:1000}});$("td[title]").qtip({style:{classes:"ui-tooltip-tipsy ui-tooltip-shadow"},position:{my:"left center",at:"right center",target:"event"},show:{delay:1000}});$("select.enhancers").change(function(){var c=$(this).children("option:selected").text();var e=$(this).children().first().text();var g=e.substring(e.length-2).trim();var d=$("span[id='enhancer-stats-"+c+"']").text().split(";");var b=d[0].replace("PED","").trim();var f=d[1];$("input#enhancer-markup-"+g).attr("value",b);$("input#enhancer-decay-"+g).attr("value",f);$("input#enhancer-type-"+g).attr("value",c)});$('input[name="find-finishers"]').live("click",function(){$("div#search-finisher-wrapper").toggle();if($('input[name="find-creatures"]').is(":checked")){$('input[name="find-creatures"]').removeAttr("checked")}});$('input[name="find-creatures"]').live("click",function(){if($('input[name="find-finishers"]').is(":checked")){$('input[name="find-finishers"]').removeAttr("checked");$("div#search-finisher-wrapper").toggle()}});$('input[name="skip-limited"]').live("click",function(){if($('input[name="use-weapon-markup"]').is(":checked")){$('input[name="use-weapon-markup"]').removeAttr("checked")}});$('input[name="use-weapon-markup"]').live("click",function(){if($('input[name="skip-limited"]').is(":checked")){$('input[name="skip-limited"]').removeAttr("checked")}});if($('input[name="find-finishers"]').is(":checked")){$("div#search-finisher-wrapper").show()}else{$("div#search-finisher-wrapper").hide()}var a=$('input[name="find-buffs"]');a.live("click",function(){$("div#search-buff-wrapper").toggle()});if(a.is(":checked")){$("div#search-buff-wrapper").show()}else{$("div#search-buff-wrapper").hide()}$("select#setting-creature").live("change",function(){var d=$("select#setting-creature option:selected").attr("title").split(":");if(d!==undefined&&d.length>0){var c=d[0];var b=d[1];$("input#setting-creature-hp").val(c);$("input#setting-creature-regen").val(b)}});$("input#reset").live("click",function(){$("input#setting-creature-hp").val("");$("input#setting-creature-regen").val("");$("input#setting-weapon-id").val("");$("select#skip-list").empty();$("select.setting").each(function(){if($(this)!==undefined&&$(this).length>0){$(this)[0].selectedIndex=0}});$("select.enhancers").each(function(){if($(this)!==undefined&&$(this).length>0){$(this)[0].selectedIndex=0}});$("select.heal-enhancers").each(function(){if($(this)!==undefined&&$(this).length>0){$(this)[0].selectedIndex=0}});$('input[name="maximize"]').removeAttr("checked");$('input[name="use-weapon-markup"]').removeAttr("checked");$('input[name="find-finishers"]').removeAttr("checked");$('input[name="find-creatures"]').removeAttr("checked");$('input[name="find-amplifiers"]').removeAttr("checked");$('input[name="skip-limited"]').removeAttr("checked");$('input[name="ignore-regen"]').removeAttr("checked");$('input[name="skip-unknown-skill"]').removeAttr("checked");$('input[name="amp-markup"]').val("");$('input[name="hit-profession"]').val("");$('input[name="damage-profession"]').val("");$("#hide-enhancers").val("1");$("#select-enhancers").hide();$("#toggle-enhancers").removeClass("arrow-desc").removeClass("arrow-asc").addClass("arrow-asc");$("#hide-heal-enhancers").val("1");$("#select-heal-enhancers").hide();$("#toggle-heal-enhancers").removeClass("arrow-desc").removeClass("arrow-asc").addClass("arrow-asc");$("div#search-finisher-wrapper").hide();var e=$('select[name="all-enhancers"]');var f=$('select[name="all-heal-enhancers"]');if(e!==undefined&&e.length>0){e[0].selectedIndex=0}if(f!==undefined&&f.length>0){f[0].selectedIndex=0}var b=$(".filter-entry").size();if(b!=null&&b>0){while(b>1){$(".filter-entry :last").parent().parent().remove();b=$(".filter-entry").size()}$('input[name="filter-column-value[]"]').first().val("");var d=$('select[name="filter-column-match[]"]');var c=$('select[name="filter-column-name[]"]');if(d!==undefined&&d.length>0){d[0].selectedIndex=0}if(c!==undefined&&c.length>0){c[0].selectedIndex=0}$("#filters").val(1)}});$('<div id="container" />').css({pointerEvents:"none",zoom:1,filter:"alpha(opacity=50)",opacity:0.5,width:"100%",height:"100%",position:"fixed",top:0,left:0,zIndex:2998,backgroundColor:"rgb(100, 100, 100)",display:"none"}).appendTo("body");$("form#search-form").submit(function(){$("select#skip-list").children().each(function(){$(this).attr("selected","selected")});return true});$("input#skip-list-clear").click(function(){$("select#skip-list").empty()});$("input#skip-list-remove").click(function(){$("select#skip-list").children(":selected").each(function(){$(this).remove()})});$("#container").live("click",function(){$("span#help-link").click()});$("span#help-link").live("click",function(){$("#container").css({opacity:0});$("#container").toggle();$("#container").animate({opacity:0.5},200);$("#container").css({pointerEvents:"none"});$("#container:visible").css({pointerEvents:""});if($("#result").length>0&&$("th.cost").length>0){var g=$("th.cost").offset();var d=$("th.cost").width();if(g!=null){var e=$("div#cost-helper");g.top-=parseInt(e.css("height").replace("px",""));g.top-=16;g.left-=parseInt(e.css("width").replace("px",""))/2;g.left-=8;e.css({left:(g.left+d)+"px",top:g.top+"px"});e.toggle()}}if(!$("div#search-wrapper").is(":visible")){return}var c=$("td#skill-inputs");var g=c.offset();if(g!=null){var e=$("div#skill-helper");g.top-=parseInt(e.css("height").replace("px",""))/2;g.top+=parseInt(c.css("height").replace("px",""))/2;g.top-=5;var f=parseInt(c.css("width").replace("px",""));e.css({left:(g.left+f)+"px",top:g.top+"px"});e.toggle()}var b=$("select#setting-creature");var g=b.offset();if(g!=null){var e=$("div#creature-helper");g.top-=parseInt(e.css("height").replace("px",""))/2;g.top+=parseInt(b.css("height").replace("px",""))/2;g.top-=5;var f=parseInt(b.css("width").replace("px",""));e.css({left:(g.left+f)+"px",top:g.top+"px"});e.toggle()}var b=$("div#toggle-enhancers");var g=b.offset();if(g!=null){var e=$("div#enhancer-helper");g.top-=parseInt(e.css("height").replace("px",""))/2;g.top+=parseInt(b.css("height").replace("px",""))/2;g.top-=5;var f=parseInt(b.css("width").replace("px",""));f+=5;e.css({left:(g.left+f)+"px",top:g.top+"px"});e.toggle()}});if($("#hide-enhancers").val()==="1"){$("#select-enhancers").hide();$("#toggle-enhancers").removeClass("arrow-desc").addClass("arrow-asc")}else{$("#select-enhancers").show();$("#toggle-enhancers").removeClass("arrow-asc").addClass("arrow-desc")}$("tr.rr").live("click",function(){$(this).toggleClass("selected-row")});$("#add-filter").live("click",function(){var b=parseInt($("#filters").val());if(b!=NaN){$(".filter-entry").first().clone().appendTo($("#filter-list"));$("#filters").val(b+1)}});$(".remove-filter").live("click",function(){if($(".filter-entry").size()==1){return}$(this).parent().parent().remove();var b=parseInt($("#filters").val());if(b!=NaN){$("#filters").val(b-1)}});$("select.all-enhancers").live("change",function(){var b=$(this).val();$("select.enhancers").each(function(){$(this).val(b);var d=$(this).children("option:selected").text();var f=$(this).children().first().text();var h=f.substring(f.length-2).trim();if(d.indexOf("Select")!==-1){$("input#enhancer-markup-"+h).attr("value","");$("input#enhancer-decay-"+h).attr("value","");$("input#enhancer-type-"+h).attr("value","");return}var e=$("span[id='enhancer-stats-"+d+"']").text().split(";");var c=e[0].replace("PED","").trim();var g=e[1];if(c.trim().length==0){c=0}if(g.trim().length==0){g=1000}$("input#enhancer-markup-"+h).attr("value",c);$("input#enhancer-decay-"+h).attr("value",g);$("input#enhancer-type-"+h).attr("value",d)})});$("#toggle-enhancers").live("click",function(){if($("#hide-enhancers").val()==="1"){$("#hide-enhancers").val(0);$("#select-enhancers").show();$("#toggle-enhancers").removeClass("arrow-asc").addClass("arrow-desc")}else{$("#hide-enhancers").val(1);$("#select-enhancers").hide();$("#toggle-enhancers").removeClass("arrow-desc").addClass("arrow-asc")}});$("div#result-wrapper-div").on("click","td.cost",function(){var h=$(this).attr("id").split("-")[1];var f=$("#result-"+h);var e=$(f).remove();var d=e.find("td[class^='colspan']").attr("class").split(" ");var g=19;for(var c=0;c<d.length;c++){if(d[c].indexOf("colspan-")===0){g=parseInt(d[c].substring("colspan-".length))}}e.find("td.cost-details").attr("colspan",g);if(f.is(":visible")){$("#hidden-details").after(e)}else{$(this).parent().after(e)}buildTable(e,".table-creator-finishers",".table-target-finishers");buildTable(e,".table-creator-amplifiers",".table-target-amplifiers");buildTable(e,".table-creator-creatures",".table-target-creatures");var b=e.find(".other-creatures-table");if(b.not(".initialized")){b.addClass("initialized");b.find("td[class^='bgp-'],td[class*=' bgp-']").each(function(){var j=$(this).attr("class").split(" ");var k=null;for(c in j){var i=j[c];if(i.substring(0,"bgp-".length)==="bgp-"){k=i.substring("bgp-".length,i.length);break}}$(this).css("background-color",getColor(k));$(this).css("color","#000")});b.dataTable({iDisplayLength:25,aaSorting:[[1,"asc"]]});b.toggle()}e.toggle();$("th[title]").qtip({style:{classes:"ui-tooltip-tipsy ui-tooltip-shadow"},position:{my:"bottom left",at:"top-center",target:"event"},show:{delay:1000}});$("div.tip[title]").qtip({style:{classes:"ui-tooltip-tipsy ui-tooltip-shadow"},position:{my:"bottom left",at:"top-center",target:"event"},show:{delay:1000}})});$("a#hide-search").click(function(){$("div#search-wrapper").toggle(250)})});